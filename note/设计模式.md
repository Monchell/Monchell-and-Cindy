# 设计模式 
##  复用性能 !
## 1.设计模式简介
* 课程目标   
    * 理解松耦合设计思想  
    * 掌握面向对象设计原则
    * 握重构技法改善设计
    * 掌握GOF核心设计模式 
* 什么是设计模式  
每个模式不断重复的解决方案的核心，不要重复造轮子
* GOF设计模式  
    * 可复用面向对象软件的基础  
    * 目标：可复用
    * 手法：面向对象
* 面向对象谈起  
    * 底层思维：把握机器底层
        * 语言构造
        * 编译转换
        * 内存模型
        * 运行机制：把周围的世界抽象未程序代码
    * 抽象思维：管理代码复杂度
        * 面向对象
        * 组件封装
        * 设计模式
        * 架构模式
    * 程序员：联系现实需求和计算机
* 深入理解面向对象
    * 向下：深入理解面向对象三大机制，内部机制
        * 封装：隐藏内部实现
        * 继承：复用现有代码
        * 多态：改写对象行为
    * 向上： 把握面向对象对象机制带来的抽象意义  
    掌握什么是好多面向对象机智
* 抽象思维的背景，软件设计固有的复杂性
    * 根本原因：变化
        * 客户需求的变化
        * 技术平台的变化
        * 开发团队的变化
        * 市场环境的变化
    * 解决方法
        * 分解：分而治之
        * 抽象：抓住事物的本质特点，处理泛化和理想化的对象模型
            1. 父类指针指向子类对象
            2. 指针vector需要一个堆对象的指针
            3. 虚函数，多态调用的方法
## 2.面向对象设计原则
* 最大优势：抵御变化
* 面向对象
    * 底层：封装，继承，多态等
    * 抽象：
        * 隔离变化
        * 各司其职
        新增类不影响原类型的实现
    * 面向对象设计原则
        1. 依赖倒置原则（DIP）
            1. 高层模块（稳定）不应该依赖低层模块（变化）二者都应依赖于抽象（稳定）
            2. 抽象（稳定）不应该依赖于实现细节（变化），实现细节应该依赖于抽象（稳定）
            3. 变化依赖稳定，不可相逆
            4. 关键点：提出抽象类（例程的shape）
        2. 开放封闭原则（OCP）
            1. 对拓展开放，对更改封闭（增加，而非修改）
            2. 类模块应该是可扩展的，但是不可修改
        3. 单一职责原则（SRP）
            1. 一个类应该仅有一个引起它变化的原因
            2. 变化的方向隐含着类的责任
        4. Liskov 替换原则（LSP）
            1. 子类必须能够替换他们的基类（IS-A）
            2. 继承表达类型抽象 
        5. 接口隔离原则（ISP）
            1. 不应该强迫客户程序依赖它们不用的方法（该protect就protect防止客户依赖性）
            2. 接口应该小而完备
        6. 优先使用对象阻合而不是类继承
            1. 类继承：白箱复用，对象组合：黑箱阻合，class A里面放一个class B这样
            2.  继承在某种程度上破坏了封装性
            3. 对象组合则只要求被组合对象有良好定义的接口
        7. 封装变化点 松耦合
            1. 使用封装来创建对象之间的分界层，让设计者可以在一侧变化的同时保持另一侧稳定
        8. 针对接口编程，而不是针对实现编程
            1. 不将变量类型声明为具体类，而是声明为接口
            2. 客户无需获知对象的具体类型，只需要指导对象具有的接口（抽象）
            3. 依赖接口而不依赖具体类型
            4. 和DIP相辅相成，只是角度不同
    * 接口标准化：产业昌盛的标志  
        1. 箭和弩的接口统一化，避免箭不对弩
        2. 木板字模的大小接口和活字的大小接口，分离
    * 设计原则->设计经验
        1. 设计习语 Design Idioms
            与特定语言相关的低层模式，技巧和惯用法
        2. 设计模式 Design Patterns
            类与接口，变化中的复用性问题
        3. 架构模式 Architectural Patterns
            系统划分，责任和写作关系